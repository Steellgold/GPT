// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         String   @id @unique
  createdAt  DateTime @default(now())
  lastAsked  DateTime @default(now())
  askUsage   Int      @default(50)
  chatUsage  Int      @default(20)
  imageUsage Int      @default(20)
  premium    Boolean  @default(false)
  email      String   @default("none")
}

model Thread {
  threadId    String   @id
  createdAt   DateTime @default(now())
  lastMessage DateTime @default(now())
  guildId     String
  userId      String
  messages    Json     @default("[]")
  active      Boolean  @default(false)
}

model Requests {
  id          String   @id @default(cuid())
  userId      String
  askedAt     DateTime @default(now())
  question    String
  answeredAt  DateTime @default(now())
  answer      String
  guildId     String
  channelId   String
  messageLink String
  options     Json     @default("{}")
  timestamp   String   @default("0")
}

model Stats {
  id      String   @id @default(cuid())
  date    DateTime @default(now())
  guildId String
  userId  String
  type    String   @default("command")
  command String   @default("unknown")
}
